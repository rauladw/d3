<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>D3: Loading data from a CSV file</title>
	<script type="text/javascript" src="../d3.js"></script>
</head>

<body>
	<script type="text/javascript">

		let rowConverter = function (d) {
			return {
				Food: d.Food, // No conversion
				Deliciousness: parseFloat(d.Deliciousness)
			};
		}

		let dataset;  // Declare global variable, initially empty (undefined)

		d3.csv("food.csv", rowConverter, function (error, data) {
			if (error) {
				console.log(error);
			}
			else {
				console.log(data);
				dataset = data;  // Once loaded, copy to dataset
			}
		});

	</script>
</body>

</html>